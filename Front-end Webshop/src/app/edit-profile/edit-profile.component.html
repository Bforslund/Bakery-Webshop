<body>
<div class="container p-0">


    <div class="row">
        <div class="col-md-5 col-xl-4">

            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Profile</h5>
                </div>

                <div class="list-group list-group-flush" role="tablist">
                    <a class="list-group-item list-group-item-action active" data-toggle="list" href="#account" role="tab">
                      Account
                    </a>
                
                    <a class="list-group-item list-group-item-action" data-toggle="list" href="#pass" role="tab">
                      Password
                    </a>
                   
                </div>
            </div>
        </div>

        <div class="col-md-7 col-xl-8">
            <div class="tab-content">
                <div class="tab-pane fade show active" id="account" role="tabpanel">

                    <div class="card">
                        <div class="card-header">
                            <div class="mt-5 text-center"><span *ngIf="notification" class="elementToFadeInAndOut">
                                <i class="fas fa-check-circle {{notification.class}}"></i>
                                {{notification.message}}
                            </span>
                        </div>
                            <div class="card-actions float-right">
                              
                            </div>
                            <h5 class="card-title mb-0">Public info</h5>
                        </div>
                        <div class="card-body">

        <form (ngSubmit)="update()" #ProfileForm="ngForm">
<div class="container h-100 d-flex justify-content-center">
    <div class="p-3 py-5">
 



        <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="text-right">Edit your profile</h5>
        </div>
        
        <div class="row mt-2">
            <div class="col-md-6"><label class="labels">First name</label>
                <input type="text" class="form-control" id="firstName"
                    required
                    [(ngModel)]="user.firstName" name="firstName"
                    #firstName="ngModel">

            </div>
            <div class="col-md-6"><label class="labels">Surname</label>
                <input type="text" class="form-control" id="lastName"
                    required
                    [(ngModel)]="user.lastName" name="lastName"
                    #lastName="ngModel">

            </div>
        </div>
        <div class="row mt-3">
         
           
            <div class="col-md-12"><label class="labels">Address</label>
                <input type="text" class="form-control" id="address"
                    required
                    [(ngModel)]="user.address" name="address"
                    #address="ngModel">

            </div>
        </div>
        <div class="row mt-3">
            <div class="col-md-12"><label class="labels">Email</label>
                <p>{{user.email}}</p>

            </div>
            <div class="col-md-6"><label class="labels">Points</label>
                <p>{{user.points}}</p>
            </div>
           
            <div class="col-md-6"><label class="labels">Birthday</label>
                <p>{{user.birthday}}</p>

            </div>
        </div>
        
        <div class="row mt-3">
        <div class="col-md-4 text-center"><button class="btn btn-primary profile-button" [disabled]="!ProfileForm.dirty" type="submit">Save Profile</button></div>
    </div>
    </div>

</div>
</form>
</div>
</div>



</div>

<div class="tab-pane fade" id="pass" role="tabpanel">

<div class="card">
    <div class="card-header">
        <div class="mt-5 text-center">
    </div>
        <div class="card-actions float-right">
          
        </div>
        <h5 class="card-title mb-0">Change password</h5>
        <form (ngSubmit)="updatePassword(userData.value)" #userData="ngForm">
        <div class="form-group row">
            <label for="user_name" class="col-md-4 col-form-label text-md-right">Password</label>
            <div class="col-md-6">
            <input matInput 
                type="password" 
                [(ngModel)]="userData.password" 
                name="password" 
                placeholder="Password" 
                class="form-control" 
                required
                #password="ngModel" 
                pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" />
            <div *ngIf="password.invalid && (userData.submitted || password.touched)" class="alert alert-danger">
            <div *ngIf="password.errors.required"> Password is required. </div>
            <div *ngIf="password.errors.pattern"> Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters.</div>
            </div>
            </div>
        </div>
    
        <div class="form-group row">
            <label for="user_name" class="col-md-4 col-form-label text-md-right">Confirm password</label>
            <div class="col-md-6">
            <input matInput 
                type="password" 
                [(ngModel)]="userData.confirmpassword" 
                name="confirmpassword" 
                placeholder="Confirm Password" 
                class="form-control" 
                required 
                #confirmpassword="ngModel" 
                pattern="{{ password.value }}" />
            <div *ngIf=" confirmpassword.invalid && (userData.submitted || confirmpassword.touched)" class="alert alert-danger">
            <div *ngIf="confirmpassword.errors.required"> Confirm password is required. </div>
            <div *ngIf="confirmpassword.errors.pattern"> Password & Confirm Password does not match.</div>
            </div>
            </div>
        </div>
<div class="mt-5 text-center"><button class="btn btn-primary profile-button" [disabled]="!userData.valid"  type="submit">Save</button></div>
        </form>
      
          
    </div>
</div>



</div>



</div>
</div>
</div>

</div>
</body>
